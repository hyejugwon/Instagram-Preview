<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="/Instagram-Preview/" id="github-base">
    <script>
      // 로컬 환경에서는 base 태그 제거
      if (!location.hostname.endsWith('github.io')) {
        var base = document.getElementById('github-base');
        if (base) base.remove();
      }
    </script>
    <script>
      // base 태그를 고려하여 CSS/JS 동적 로드
      (function() {
        var baseTag = document.querySelector('base');
        var basePath = baseTag ? baseTag.getAttribute('href') : '';
        var getPath = function(path) {
          if (!basePath) return path;
          var cleanBase = basePath.replace(/\/$/, '');
          var cleanPath = path.startsWith('/') ? path : '/' + path;
          return cleanBase + cleanPath;
        };
        
        // head.js 로드
        var headScript = document.createElement('script');
        headScript.src = getPath('/js/head.js');
        document.head.appendChild(headScript);
        
        // index.css 로드
        var cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = getPath('/css/index.css');
        document.head.appendChild(cssLink);
      })();
    </script>
    <title>hakchips</title>
  </head>  
  

  <body>
    <div class="app">
      <main class="mobile-container stack" style="--stack-gap: var(--sp-6); padding: var(--sp-6);">
        <section class="stack">
          <div class="en hello">Hey there, <br> this is hakchips 🍪</div>
          <p class="en h2--M">We're super happy to meet you!</p>
        </section>

        <nav class="stack">
          <a class="en btn h3--B" href="/services/instagram/">
            <span>Instagram Feed Preview</span>
          </a>
          <a class="en btn h3--B" href="/services/subway/">
            <span>Subway Calorie Calculator</span>
          </a>
        </nav>

      </main>
    </div>
    <script>
      // base 태그를 고려하여 JS 동적 로드
      (function() {
        var baseTag = document.querySelector('base');
        var basePath = baseTag ? baseTag.getAttribute('href') : '';
        var getPath = function(path) {
          if (!basePath) return path;
          var cleanBase = basePath.replace(/\/$/, '');
          var cleanPath = path.startsWith('/') ? path : '/' + path;
          return cleanBase + cleanPath;
        };
        
        var scripts = ['/js/common.js', '/js/menu.js'];
        scripts.forEach(function(src) {
          var script = document.createElement('script');
          script.src = getPath(src);
          document.body.appendChild(script);
        });
      })();
    </script>
  </body>
</html>
